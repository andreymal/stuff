# streamgrabber

Простая обёртка над ffmpeg, которая захватывает указанный стрим, деля его
на сегменты, и для каждого сегмента запускает указанные скрипты. Требует
watchdog для отслеживания создаваемых сегментов. На винде работоспособность
не проверялась. После остановки скрипты для последнего созданного файла
не запускаются (это можно поправить, но лень). Формат по умолчанию mp4.

Использование:

    ./streamgrabber.py -i http://какой-то-стрим -d каталог-для-записи команда1 команда2 "команда3 с аргументами" и-так-далее

Подробнее см. `./streamgrabber.py --help`


# detect1tvclock

Ещё одна обёртка над ffmpeg, которая читает часть кадров из указанных
видеофайлов и пытается угадать, есть ли там часы Первого канала. Если есть,
то помещает видео в указанный каталог одним из указанных способов.

Использование:

    ./detect1tvclock.py -d куда-помещать -m способ видео1.mp4 видео2.mp4

Подробнее см. `./detect1tvclock.py --help`

Я использую всё это дело примерно так:

    ./streamgrabber.py -i http://стрим-первого-канала \
        -f mpegts -t 600 -d 1tv -o '%Y-%m-%d_%H-%M-%S.ts' \
        './detect1tvclock.py -d clocktmp -m hardlink -v'
